{% extends 'base.html' %} {% load static %} 

{% load crispy_forms_tags %}

{% block title %}
    Ventas
{% endblock %}

{% block content %}


    <div class="row">
        <div class="col-md-12">
            <h1>Venta para el cliente: {{customer.rfc}}</h1>
        </div>
    </div>
    <br>



    <form method="POST">
        {% csrf_token %}
        {{form_details|crispy}}
        {{form|crispy}}

        <div class="col-md-12" style="text-align: right;margin-top: 5px;">
            <button class="btn btn-primary btn-sm" type="submit">
                Guardar
            </button>
        </div>
    </form>
{% endblock %}

{% block js %}

    <script>
        id_amount.oninput = function() {
            price = document.getElementById("id_price").value;
            document.getElementById("id_total").value = id_amount.value * price;
        };

        id_price.oninput = function() {
            amount = document.getElementById("id_amount").value;
            price = document.getElementById("id_price").value;
            document.getElementById("id_total").value = amount * price;
        };

        const selectElement = document.getElementById('id_product');

        selectElement.addEventListener('change', (event) => {
            price = document.getElementById("id_price");
            price.value = event.target.value;
        });
    </script>

{% endblock %}

